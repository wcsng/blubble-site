<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a>Note:  <br/>
1.&#160;Currently, only the Android .apk file is available for download&#160;​<a href="https://drive.google.com/file/d/1L9pVhTnMYSJpk6mKARs2YdHh_y75b38m/view?usp=sharing">here​. For iOS, .zip</a> <br/>
file is available&#160;​<a href="https://drive.google.com/file/d/12KHfty6A8A7rvhoIs49v30nIsYhk7rMj/view?usp=sharing">here</a>​&#160;which can be compiled in XCode. <br/>
2.&#160;You can perform this experiment if you have one iOS device (transmitter) and <br/>
one Android device (receiver). You can also do it with two Android devices.  <br/>
 <br/>Thank you for participating in our data crowdsourcing campaign. Using the data we <br/>collect, we hope to develop a robust application to enable privacy-preserving <br/>contact-tracing to contain the spread of the COVID-19 pandemic. If you are able to <br/>meet the prerequisites outlined in the next section, we request you to take 20 minutes <br/>of your time (we promise it will not take anymore than that!) to conduct the following <br/>experiment. A video describing the experiment can be found&#160;​<a href="https://drive.google.com/file/d/161-bcHPKA_090RU3wJCPLOsIVbdx-8Hc/view?usp=sharing">here&#160;</a><br/>
<b>Pre-Requisites <br/></b>You will need the following devices to collect data for our experiment.&#160;&#160;<br/>
1.&#160;6 - 8 meters of space where you can walk around and collect the data.  <br/>2.&#160;Two Devices with Bluetooth capability  <br/>
a.&#160;One iPhone or an Android-based phone where you can install the app ( <br/>
this device will be the&#160;​receiver) <br/>
b.&#160;For the second device, you can use any Bluetooth enabled device (this <br/>
will be the&#160;​transmitter​). However, if you have a second android device, we <br/>recommend you to use that as the transmitter because we can get more <br/>data points from Android for our algorithm<b> </b><br/>
<b>Experiments&#160;and&#160;Setup:  <br/></b>The following experiment will help us understand how Bluetooth signal values can be <br/>used to detect distance between devices. In particular, we are looking to classify if <br/>another device is within 6 ft of you. <br/> <br/>
1.&#160;First, set up the&#160;​transmitter​&#160;described in&#160;​<i>Installation</i>​&#160;and begin transmitting the <br/>
beacon. Place it on the floor or some furniture. &#160; <br/>
2.&#160;Next, start the experiment with both devices very close to each other. Press <br/>
<i><b>Start Scan </b></i><br/>
3.&#160;Walk at a comfortable pace within this radius for approximately 1 minute. <br/>4.&#160;Next, toggle the&#160;​<i><b>Inside 6ft/Outside 6ft</b></i>​<i><b>&#160;</b></i>​as you walk far enough away from the <br/>
transmitter​&#160;device.  <br/>
<hr/>
<a name=2></a>5.&#160;Again, continue to walk outside this radius (up to a distance of 15 ft) for 1 <br/>
minute.  <br/>
6.&#160;Tap&#160;​<i><b>Stop Scan</b></i>​<i>&#160;</i>​and&#160;​<i><b>Upload Data</b></i>​.  <br/>7.&#160;Repeat the experiment with the phone in the pocket. Toggle the&#160;​<i><b>In Pocket </b></i><br/>
switch, tap Start Scan and repeat steps (1)-(5). For the &#160;​<i><b>In Pocket&#160;</b></i>​testing, you <br/>
can turn the screen off and place the device in your pocket after toggling the <br/>appropriate switches. After walking roughly 6ft distance, you can take the phone <br/>out of your pocket and toggle the 6ft switch. <br/>
8.&#160;Repeat step (1)-(6) for another environment in your home.  <br/>
&#160;&#160;<br/>
** Important: Please remember to toggle in&#160;​<i><b>Inside 6 ft / Outside 6 ft</b></i>​&#160;when crossing the <br/>
imaginary 6 ft boundary from the transmitter device ** <br/>
 <br/>Continue to the next section to install the necessary applications on your devices.  <br/> <br/><b>Installations <br/></b>&#160;<br/>Let’s begin by installing some applications to set up&#160;​receiver​&#160;devices. &#160;<br/>
<b>iPhone/iPad: </b><br/>
First, install the TestFlight app on the device you’ll use for testing. Then, accept your <br/>email or follow the public link invitation to install the beta app.  <br/>
Installing a Beta iOS App from an Email or Public Link Invitation <br/>
1.&#160;<a href="https://itunes.apple.com/us/app/testflight/id899247664?mt=8">Install TestFlight</a>​&#160;on the iOS device that you’ll use for testing. <br/>
2.&#160;Open your invitation email or tap on the public link on your iOS device. <br/>3.&#160;Tap View in TestFlight or Start Testing; or tap Install or Update for the app you <br/>
want to test. <br/>
<b>Android</b>​: <br/>
1.&#160;Download the .apk file&#160;​<a href="https://drive.google.com/file/d/1L9pVhTnMYSJpk6mKARs2YdHh_y75b38m/view?usp=sharing">here</a>​&#160;and navigate to your&#160;​<i>Downloads&#160;</i>​directory.  <br/>
2.&#160;Tap on the file and tap&#160;​<i>Install</i>​.  <br/>
3.&#160;Android will block installation from unknown sources. Tap&#160;​<i>Install Anyway</i>​. It may <br/>
also ask to&#160;​<i>Send App for Scanning</i>​. Ignore this message as well.  <br/>
** Skip ahead to&#160;​<b>Testing&#160;</b>​you’re using an iOS device for the&#160;​transmitter​&#160;​<b>and&#160;</b>​receiver​. ** <br/>
<hr/>
<a name=3></a><img src="Testing Instructions- _ .jpg"/><br/>
Next, let’s set up the&#160;​transmitter​&#160;devices:  <br/>
<b>iPhone/iPad: </b><br/>
Download the&#160;​<a href="https://apps.apple.com/us/app/ble-scanner-4-0/id1221763603">BLE Scanner​&#160;app from the iOS app store.</a>  <br/>
<b>Android</b>​: <br/>
Follow the same instructions as above to install the .apk file provided and move on to <br/><i>Testing</i>​<b>. </b><br/>
<b>Windows:&#160;</b>​Support not yet available.<b>  </b><br/>
<b>Linux:&#160;</b>​For linux based transmitter setup, you have to follow the following instructions: <br/>
0. Check if your PC supports BLE or not. Run &#160;​sudo hcitool lescan.&#160;​&#160;If your hardware <br/>
supports BLE scans, you will get an output something like this: <br/>
 <br/>
1.&#160;​Install package dependencies: <br/>
sudo apt install python2.7 bluetooth bluez-tools blueman <br/>
<a href="https://drive.google.com/file/d/1A4tCV2rjSN3UMe9SZzoGJTkhgOMmFrf2/view?usp=sharing">&#160; &#160; &#160; 2. Download the following python script (​link</a>​). It supports python2 only as of now. <br/>
&#160; &#160; &#160; 3. Run the python script with sudo access: <br/>
sudo python2.7 test_beacon.py <br/>
&#160;<br/><b>Testing </b><br/>
<b>iPhone/iPad Receiver:</b>&#160;<br/>
<hr/>
<a name=4></a>Once you have the app, you can directly get to data collection.  <br/>
<b>Note:</b>​&#160;You will start&#160;​within a 2m radius​&#160;to the transmitter.  <br/>
1.&#160;On an iOS&#160;​transmitter​&#160;device, turn on the Bluetooth.  <br/>
2.&#160;Open the app BLEScanRSSI app.  <br/>3.&#160;The following screen will populate with multiple Bluetooth devices in the <br/>
surrounding. <br/>
a.&#160;<b>iOS</b>​&#160;​transmitters​&#160;show up with its name. &#160; <br/>b.&#160;<b>Android</b>​&#160;​transmitters​&#160;show up with their device name<b> <br/></b>c.&#160;<b>Linux</b>​&#160;​transmitters​: show up with their device name <br/>d.&#160;<b>Windows</b>​&#160;​transmitters:​&#160;support not available &#160; <br/>
4.&#160;Select the device you want to use as a&#160;​transmitter​.  <br/>5.&#160;Toggling the&#160;​<i><b>In Hand/In pocket</b></i>​<i>&#160;</i>​button indicates data was collected with the <br/>
receiver in the pocket.  <br/>
6.&#160;Click on the​<b>&#160;</b>​<i><b>Start Scan</b></i>​<b>&#160;</b>​button to collect the RSSI values.  <br/>
7.&#160;Toggling&#160;​<i><b>Inside 6ft/Outside 6ft</b></i>​&#160;switch indicates if you’re farther than 6 ft <br/>
from the transmitter.  <br/>
8.&#160;Once the data has been collected as per instructions, tap the&#160;​<i><b>Stop Scan </b></i><br/>
button. <br/>
9.&#160;Press&#160;​<i><b>Store data</b></i>​<i>&#160;</i>​if the data collection was successful.  <br/>
10.Press&#160;​<i><b>Reset</b></i>​&#160;if the data collection wasn’t successful or you make a mistake <br/>
and restart the process. &#160; <br/>
<b>Android Receiver</b> <br/>
1.&#160;Open the BLEScanRSSI app and allow all permissions.  <br/>2.&#160;On an&#160;​<b>Android</b>​&#160;​transmitter​&#160;device,  <br/>
a.&#160;tap&#160;​<i>Transmit Beacons</i>​. <br/>
b.&#160;First, tap&#160;​<i>Save Phone Data&#160;</i>​to upload the&#160;​transmitter​'s device information <br/>
to Cloud. This will generate a QR Code which will be needed in the next <br/>steps.  <br/>
c.&#160;Toggle the switch to begin transmitting the beacons. &#160; <br/>
3.&#160;On an&#160;​<b>iOS&#160;</b>​transmitter​&#160;device,  <br/>
a.&#160;Click on the&#160;​<i>Advertise</i>​&#160;button at the bottom of the screen.  <br/>
b.&#160;Toggle the BLE device switch.  <br/>
4.&#160;On the&#160;​receiver​&#160;device, tap&#160;​<i>Scan For Beacons </i><br/>
<hr/>
<a name=5></a>5.&#160;The following screen should populate the drop down menu with multiple <br/>
beaconing devices in the surroundings.  <br/>
a.&#160;<b>iOS</b>​&#160;​transmitters​&#160;show up with the name &#34;​<i>BLE device</i>​&#34;  <br/>
b.&#160;<b>Android</b>​&#160;​transmitters​&#160;show up with their device name<b> <br/></b>c.&#160;<b>Linux</b>​&#160;​transmitters​: show up with their device name <br/>d.&#160;<b>Windows</b>​&#160;​transmitters:​&#160;support not yet available <br/>
6.&#160;Select the device and tap&#160;​<i><b>Start Collecting RSSI From Device</b></i><b> <br/></b>7.&#160;Tap the&#160;​<i><b>Scan</b></i>​<i>&#160;</i>​button to collect the RSSI values.  <br/>
8.&#160;Toggling&#160;​<i><b>More Than 6ft</b></i>​<i>&#160;</i>​switch indicates if you’re farther than 6 ft from the <br/>
transmitter​.  <br/>
9.&#160;Toggling the​<b>&#160;</b>​<i><b>In Pocket</b></i>​<i>&#160;</i>​indicates data was collected with the receiver in the <br/>
pocket.  <br/>
10.Once the data has been collected as per instructions, tap&#160;​<i><b>Stop Scanning</b></i>​&#160;and <br/>
<i><b>Upload Data</b></i>​.  <br/>
11.In the dialog box, tap&#160;​<i>No&#160;</i>​if you did not generate a QR Code and proceed to the <br/>
next step. &#160;Tap&#160;​<i>Yes&#160;</i>​if you generated a QR Code and continue scanning the QR <br/>
Code.  <br/>
12.In the dialog box, tap&#160;​<i>Yes&#160;</i>​to collect more data with the current experimental <br/>
setup or&#160;​<i>No&#160;</i>​to exit to the main menu. <b> </b><br/>
<b>FAQ:  </b><br/>
<b>1.&#160;What if I don’t see my apple device (transmitter) on the first screen in the </b><br/>
<b>iPhone app? </b><br/>
A.&#160;You need to turn on your Bluetooth for any apple device that you want to <br/>
use as a transmitter. &#160; <br/>
<b>2.&#160;How do I report any bugs in the app?  </b><br/>
A.&#160;Please email about any issues to one of the emails below and please be <br/>
specific. Feel free to message over slack if that works better for you. <br/>
a.&#160;iPhone: &#160;​<a href="mailto:s9bhakta@ucsd.edu">s9bhakta@ucsd.edu​&#160;or&#160;</a><a href="mailto:skomatin@ucsd.edu">​skomatin@ucsd.edu </a> <br/>b.&#160;<a href="mailto:aarun@eng.ucsd.edu">Andriod:&#160;​aarun@eng.ucsd.edu​&#160;or&#160;</a><a href="mailto:agg003@eng.ucsd.edu">​agg003@eng.ucsd.edu</a> &#160;<b> </b><br/>
 <br/><b>&#160;</b><br/>
<hr/>
</body>
</html>
